name: Trigger Site Rebuild on a CRON Schedule

on:
  workflow_dispatch:
  schedule:
    # Runs "at minute 15 past every hour" (see https://crontab.guru)
    - cron: "15 * * * *"
jobs:
  build:
    name: Post tweet to twitter
    runs-on: ubuntu-latest
    steps:
      - name: cURL request
        env:
          TWITTER_CONSUMER_KEY: ${{secrets.TWITTER_CONSUMER_KEY}}
          TWITTER_CONSUMER_SECRET: ${{secrets.TWITTER_CONSUMER_SECRET}}
          TWITTER_ACCESS_TOKEN_KEY: ${{secrets.TWITTER_ACCESS_TOKEN_KEY}}
          TWITTER_ACCESS_TOKEN_SECRET: ${{secrets.TWITTER_ACCESS_TOKEN_SECRET}}
        run: echo 'consumer_key= "'"$TWITTER_ACCESS_TOKEN_SECRET"'"'
        # run: curl --location --request POST https://www.dca-cc.com/api/twitter/tweet/ -H 'Content-Type=application/x-www-form-urlencoded' --data-urlencode 'consumer_key=$TWITTER_CONSUMER_KEY' --data-urlencode 'consumer_secret=$TWITTER_CONSUMER_SECRET' --data-urlencode 'access_token_key=$TWITTER_ACCESS_TOKEN_KEY' --data-urlencode 'access_token_secret=$TWITTER_ACCESS_TOKEN_SECRET'
